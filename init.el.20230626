;;;; 快捷键设置
;; 使用C-u 替换C-x
(global-set-key (kbd "C-u") ctl-x-map)
;; C-u C-b 打开ibuffer
(global-set-key (kbd "C-u C-b") 'ibuffer)


;;;; 编码设置
(setq locale-coding-system 'utf-8)
(set-terminal-coding-system 'utf-8)
(set-keyboard-coding-system 'utf-8)
(set-selection-coding-system 'utf-8)
(prefer-coding-system 'utf-8)

;;;; 界面显示设置
;; 取消菜单栏/工具栏/滚动条
(menu-bar-mode 0)
(tool-bar-mode 0)
(when (display-graphic-p) (toggle-scroll-bar 0))

;; Emacs自带主题
(load-theme 'manoj-dark t)

;; 显示行号
(global-linum-mode 1)
(setq linum-format "%4d| ")

;; 显示时间
(display-time-mode 1)
(setq display-time-24hr-format t)
(setq display-time-day-and-date t)
(display-time-mode 1)


;;;; 基础设置
;; 关闭文件自动备份,  不要后缀~的备份文件
(setq make-backup-files nil)

;; 自动加载
(global-auto-revert-mode t)

;; 高亮当前行
(global-hl-line-mode t)
(global-visual-line-mode 1)

;; 保存时删除多余空白字符
(add-hook 'before-save-hook 'delete-trailing-whitespace)

;; emacs可以与外部粘贴
(setq x-select-enable-clipboard t)

;; 鼠标支持
(xterm-mouse-mode t)

;;;; 编码设置
;; 缩进空格设置
(setq default-tab-width 4)
(setq indent-tabs-mode nil)

;; emacs 括号匹配/匹配高亮/对齐
(setq electric-pair-inhibit-predicate 'electric-pair-conservative-inhibit)
(electric-pair-mode t)
(add-hook 'prog-mode-hook #'show-paren-mode)
(add-hook 'prog-mode-hook #'electric-pair-mode)

;; hippie-expand Emacs自带补全
(setq hippie-expand-try-function-list
	  '(try-expand-debbrev
		try-expand-debbrev-all-buffers
		try-expand-debbrev-from-kill
		try-complete-file-name-partially
		try-complete-file-name
		try-expand-all-abbrevs
		try-expand-list
		try-expand-line
		try-complete-lisp-symbol-partially
		try-complete-lisp-symbol))
(global-set-key (kbd "M-/") 'hippie-expand)
